{"version":3,"sources":["context/AppReducer.js","context/GlobalState.js","components/Header.js","utils/format.js","components/Balance.js","components/Summary.js","components/TransactionItem.js","components/Spinner.js","components/TransactionList.js","components/Form.js","components/AddNewTransaction.js","App.js","index.js"],"names":["state","action","type","transactions","payload","loading","filter","transaction","_id","error","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","a","axios","get","res","data","response","id","delete","config","headers","post","Provider","value","deleteTransaction","addTransaction","getTransactions","Header","numberWithCommas","x","toString","replace","Balance","balance","useContext","map","amount","reduce","acc","item","toFixed","className","Summary","amounts","income","expense","TransactionItem","text","Math","abs","onClick","Spinner","TransactionList","useEffect","key","Form","useState","setText","setAmount","onSubmit","e","preventDefault","newTransaction","floor","random","htmlFor","onChange","target","placeholder","AddNewTransaction","App","ReactDOM","render","document","getElementById"],"mappings":"mPAAe,WAACA,EAAOC,GACrB,OAAQA,EAAOC,MACb,IAAK,mBACH,OAAO,eACFF,EADL,CAEEG,aAAcF,EAAOG,QACrBC,SAAS,IAEb,IAAK,qBACH,OAAO,eACFL,EADL,CAEEG,aAAcH,EAAMG,aAAaG,QAC/B,SAAAC,GAAW,OAAIA,EAAYC,MAAQP,EAAOG,aAGhD,IAAK,kBACH,OAAO,eACFJ,EADL,CAEEG,aAAa,GAAD,mBAAMH,EAAMG,cAAZ,CAA0BF,EAAOG,YAEjD,IAAK,oBACH,OAAO,eACFJ,EADL,CAEES,MAAOR,EAAOG,UAElB,QACE,OAAOJ,I,gBCrBPU,EAAe,CACnBP,aAAc,GACdM,MAAO,KACPJ,SAAS,GAIEM,EAAgBC,wBAAcF,GAG9BG,EAAiB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACpBC,qBAAWC,EAAYN,GADH,mBACvCV,EADuC,KAChCiB,EADgC,iDAI9C,4BAAAC,EAAA,+EAEsBC,IAAMC,IAAI,wBAFhC,OAEUC,EAFV,OAGIJ,EAAS,CACPf,KAAM,mBACNE,QAASiB,EAAIC,KAAKA,OALxB,gDAQIL,EAAS,CACPf,KAAM,oBACNE,QAAS,KAAMmB,SAASD,KAAKb,QAVnC,0DAJ8C,kEAmB9C,WAAiCe,GAAjC,SAAAN,EAAA,+EAEUC,IAAMM,OAAN,+BAAqCD,IAF/C,OAGIP,EAAS,CACPf,KAAM,qBACNE,QAASoB,IALf,+CAQIP,EAAS,CACPf,KAAM,oBACNE,QAAS,KAAMmB,SAASD,KAAKb,QAVnC,yDAnB8C,kEAkC9C,WAA8BF,GAA9B,iBAAAW,EAAA,6DACQQ,EAAS,CACbC,QAAS,CACP,eAAgB,qBAHtB,kBAOsBR,IAAMS,KAAK,uBAAwBrB,EAAamB,GAPtE,OAOUL,EAPV,OAQIJ,EAAS,CACPf,KAAM,kBACNE,QAASiB,EAAIC,KAAKA,OAVxB,gDAaIL,EAAS,CACPf,KAAM,oBACNE,QAAS,KAAMmB,SAASD,KAAKb,QAfnC,0DAlC8C,sBAsD9C,OACE,kBAACE,EAAckB,SAAf,CACEC,MAAO,CACL3B,aAAcH,EAAMG,aACpBM,MAAOT,EAAMS,MACbJ,QAASL,EAAMK,QACf0B,kBA5DwC,4CA6DxCC,eA7DwC,4CA8DxCC,gBA9DwC,6CAiEzCnB,IC9EQ,SAASoB,IACtB,OAAO,+CCHF,SAASC,EAAiBC,GAC/B,OAAOA,EAAEC,WAAWC,QAAQ,wBAAyB,KCGxC,SAASC,IAAW,IAG7BC,EAFqBC,qBAAW9B,GAA5BR,aACmBuC,KAAI,SAAAnC,GAAW,OAAIA,EAAYoC,UACpCC,QAAO,SAACC,EAAKC,GAAN,OAAgBD,EAAOC,IAAO,GAAGC,QAAQ,GACtE,OACE,6BACE,wBAAIC,UAAU,qBAAd,gBACA,uBAAGA,UAAU,mBAAb,IAAiCb,EAAiBK,KCPzC,SAASS,IAAW,IAE7BC,EADqBT,qBAAW9B,GAA5BR,aACmBuC,KAAI,SAAAnC,GAAW,OAAIA,EAAYoC,UACpDQ,EAASD,EACZ5C,QAAO,SAAAwC,GAAI,OAAIA,EAAO,KACtBF,QAAO,SAACC,EAAKC,GAAN,OAAgBD,EAAOC,IAAO,GACrCC,QAAQ,GACLK,IAEH,EADDF,EAAQ5C,QAAO,SAAAwC,GAAI,OAAIA,EAAO,KAAGF,QAAO,SAACC,EAAKC,GAAN,OAAgBD,EAAOC,IAAO,IAEtEC,QAAQ,GAEV,OACE,yBAAKC,UAAU,oBACb,yBAAKA,UAAU,kBACb,wBAAIA,UAAU,qBAAd,UACA,yBAAKA,UAAU,yCAAf,KACKb,EAAiBgB,KAGxB,yBAAKH,UAAU,kBACb,wBAAIA,UAAU,qBAAd,WACA,yBAAKA,UAAU,yCAAf,KACKb,EAAiBiB,MCvBf,SAASC,EAAT,GAAgD,IAArB7B,EAAoB,EAApBA,GAAI8B,EAAgB,EAAhBA,KAAMX,EAAU,EAAVA,OAC1CZ,EAAsBU,qBAAW9B,GAAjCoB,kBACR,OACE,wBACEiB,UACEL,EAAS,EACL,0CACA,2CAGLW,EAAM,IACP,8BACGX,EAAS,EAAT,YACQR,EAAiBQ,IADzB,YAEQR,EAAiBoB,KAAKC,IAAIb,MAErC,4BAAQc,QAAS,kBAAM1B,EAAkBP,IAAKwB,UAAU,mBAAxD,MClBS,SAASU,IACtB,OACE,yBAAKV,UAAU,WACb,yBAAKA,UAAU,oBACf,yBAAKA,UAAU,oBACf,yBAAKA,UAAU,qBCFN,SAASW,IAAmB,IAAD,EACWlB,qBAAW9B,GAAtDR,EADgC,EAChCA,aAAc8B,EADkB,EAClBA,gBAAiB5B,EADC,EACDA,QAMvC,OAJAuD,qBAAU,WACR3B,MACC,IAGD,yBAAKe,UAAU,WACb,wBAAIA,UAAU,sBAAd,WACC3C,EACC,kBAACqD,EAAD,MAEA,wBAAIV,UAAU,iBACX7C,EAAauC,KAAI,SAAAI,GAAI,OACpB,kBAACO,EAAD,CACEQ,IAAKf,EAAKtC,IACVgB,GAAIsB,EAAKtC,IACT8C,KAAMR,EAAKQ,KACXX,OAAQG,EAAKH,cCrBZ,SAASmB,IAAQ,IAAD,EACLC,mBAAS,IADJ,mBACtBT,EADsB,KAChBU,EADgB,OAEDD,mBAAS,GAFR,mBAEtBpB,EAFsB,KAEdsB,EAFc,KAGrBjC,EAAmBS,qBAAW9B,GAA9BqB,eAeR,OACE,0BAAMgB,UAAU,OAAOkB,SAdR,SAAAC,GACfA,EAAEC,iBACF,IAAMC,EAAiB,CACrB7C,GAAI+B,KAAKe,MAAsB,IAAhBf,KAAKgB,UACpBjB,OACAX,QAASA,GAGXX,EAAeqC,GACfL,EAAQ,IACRC,EAAU,KAKR,yBAAKjB,UAAU,eACb,2BAAOwB,QAAQ,OAAOxB,UAAU,eAAhC,QAGA,2BACE9C,KAAK,OACL4B,MAAOwB,EACPmB,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBV,EAAQU,EAAO5C,QACzCkB,UAAU,cACV2B,YAAY,mBAGhB,yBAAK3B,UAAU,eACb,2BAAOwB,QAAQ,SAASxB,UAAU,eAAlC,UACS,6BADT,2CAIA,2BACE9C,KAAK,SACL4B,MAAOa,EACP8B,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBT,EAAUS,EAAO5C,QAC3CkB,UAAU,cACV2B,YAAY,qBAGhB,4BAAQzE,KAAK,SAAS8C,UAAU,OAAhC,oBC7CS,SAAS4B,IACtB,OACE,yBAAK5B,UAAU,eACb,wBAAIA,UAAU,sBAAd,uBACA,kBAACc,EAAD,O,MCkBSe,MAdf,WACE,OACE,kBAAC,EAAD,KACE,yBAAK7B,UAAU,aACb,kBAACd,EAAD,MACA,kBAACK,EAAD,MACA,kBAACU,EAAD,MACA,kBAACU,EAAD,MACA,kBAACiB,EAAD,SCfRE,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.ccee11d0.chunk.js","sourcesContent":["export default (state, action) => {\r\n  switch (action.type) {\r\n    case \"GET_TRANSACTIONS\":\r\n      return {\r\n        ...state,\r\n        transactions: action.payload,\r\n        loading: false\r\n      };\r\n    case \"DELETE_TRANSACTION\":\r\n      return {\r\n        ...state,\r\n        transactions: state.transactions.filter(\r\n          transaction => transaction._id !== action.payload\r\n        )\r\n      };\r\n    case \"ADD_TRANSACTION\":\r\n      return {\r\n        ...state,\r\n        transactions: [...state.transactions, action.payload]\r\n      };\r\n    case \"TRANSACTION_ERROR\":\r\n      return {\r\n        ...state,\r\n        error: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React, { createContext, useReducer } from \"react\";\r\nimport AppReducer from \"./AppReducer.js\";\r\nimport axios from \"axios\";\r\n\r\n// initial state\r\nconst initialState = {\r\n  transactions: [],\r\n  error: null,\r\n  loading: true\r\n};\r\n\r\n// create context\r\nexport const GlobalContext = createContext(initialState);\r\n\r\n// provider component\r\nexport const GlobalProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(AppReducer, initialState);\r\n\r\n  //Actions\r\n  async function getTransactions() {\r\n    try {\r\n      const res = await axios.get(\"/api/v1/transactions\");\r\n      dispatch({\r\n        type: \"GET_TRANSACTIONS\",\r\n        payload: res.data.data\r\n      });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: \"TRANSACTION_ERROR\",\r\n        payload: error.response.data.error\r\n      });\r\n    }\r\n  }\r\n\r\n  async function deleteTransaction(id) {\r\n    try {\r\n      await axios.delete(`/api/v1/transactions/${id}`);\r\n      dispatch({\r\n        type: \"DELETE_TRANSACTION\",\r\n        payload: id\r\n      });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: \"TRANSACTION_ERROR\",\r\n        payload: error.response.data.error\r\n      });\r\n    }\r\n  }\r\n\r\n  async function addTransaction(transaction) {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    };\r\n    try {\r\n      const res = await axios.post(\"/api/v1/transactions\", transaction, config);\r\n      dispatch({\r\n        type: \"ADD_TRANSACTION\",\r\n        payload: res.data.data\r\n      });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: \"TRANSACTION_ERROR\",\r\n        payload: error.response.data.error\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <GlobalContext.Provider\r\n      value={{\r\n        transactions: state.transactions,\r\n        error: state.error,\r\n        loading: state.loading,\r\n        deleteTransaction,\r\n        addTransaction,\r\n        getTransactions\r\n      }}\r\n    >\r\n      {children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default function Header() {\r\n  return <h2>Expense Tracker</h2>;\r\n}\r\n","export function numberWithCommas(x) {\r\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\nimport { numberWithCommas } from \"../utils/format\";\r\n\r\nexport default function Balance() {\r\n  const { transactions } = useContext(GlobalContext);\r\n  let amounts = transactions.map(transaction => transaction.amount);\r\n  let balance = amounts.reduce((acc, item) => (acc += item), 0).toFixed(2);\r\n  return (\r\n    <div>\r\n      <h4 className=\"heading--tertiary\">Your balance</h4>\r\n      <p className=\"balance__amount\">${numberWithCommas(balance)}</p>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\nimport { numberWithCommas } from \"../utils/format\";\r\n\r\nexport default function Summary() {\r\n  const { transactions } = useContext(GlobalContext);\r\n  let amounts = transactions.map(transaction => transaction.amount);\r\n  const income = amounts\r\n    .filter(item => item > 0)\r\n    .reduce((acc, item) => (acc += item), 0)\r\n    .toFixed(2);\r\n  const expense = (\r\n    amounts.filter(item => item < 0).reduce((acc, item) => (acc += item), 0) *\r\n    -1\r\n  ).toFixed(2);\r\n\r\n  return (\r\n    <div className=\"balance__summary\">\r\n      <div className=\"balance__group\">\r\n        <h4 className=\"heading--tertiary\">Income</h4>\r\n        <div className=\"balance__text balance__text--positive\">\r\n          +${numberWithCommas(income)}\r\n        </div>\r\n      </div>\r\n      <div className=\"balance__group\">\r\n        <h4 className=\"heading--tertiary\">Expense</h4>\r\n        <div className=\"balance__text balance__text--negative\">\r\n          -${numberWithCommas(expense)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\nimport { numberWithCommas } from \"../utils/format\";\r\n\r\nexport default function TransactionItem({ id, text, amount }) {\r\n  const { deleteTransaction } = useContext(GlobalContext);\r\n  return (\r\n    <li\r\n      className={\r\n        amount > 0\r\n          ? \"history__entry history__entry--positive\"\r\n          : \"history__entry history__entry--negative\"\r\n      }\r\n    >\r\n      {text}{\" \"}\r\n      <span>\r\n        {amount > 0\r\n          ? `+$${numberWithCommas(amount)}`\r\n          : `-$${numberWithCommas(Math.abs(amount))}`}\r\n      </span>\r\n      <button onClick={() => deleteTransaction(id)} className=\"history__button\">\r\n        x\r\n      </button>\r\n    </li>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Spinner() {\r\n  return (\r\n    <div className=\"spinner\">\r\n      <div className=\"spinner__circle\"></div>\r\n      <div className=\"spinner__circle\"></div>\r\n      <div className=\"spinner__circle\"></div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport TransactionItem from \"./TransactionItem\";\r\nimport Spinner from \"./Spinner\";\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\n\r\nexport default function TransactionList() {\r\n  const { transactions, getTransactions, loading } = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    getTransactions();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"history\">\r\n      <h3 className=\"heading--secondary\">History</h3>\r\n      {loading ? (\r\n        <Spinner />\r\n      ) : (\r\n        <ul className=\"history__list\">\r\n          {transactions.map(item => (\r\n            <TransactionItem\r\n              key={item._id}\r\n              id={item._id}\r\n              text={item.text}\r\n              amount={item.amount}\r\n            />\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\n\r\nexport default function Form() {\r\n  const [text, setText] = useState(\"\");\r\n  const [amount, setAmount] = useState(0);\r\n  const { addTransaction } = useContext(GlobalContext);\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    const newTransaction = {\r\n      id: Math.floor(Math.random() * 10000),\r\n      text,\r\n      amount: +amount\r\n    };\r\n\r\n    addTransaction(newTransaction);\r\n    setText(\"\");\r\n    setAmount(0);\r\n  };\r\n\r\n  return (\r\n    <form className=\"form\" onSubmit={onSubmit}>\r\n      <div className=\"form__group\">\r\n        <label htmlFor=\"text\" className=\"form__label\">\r\n          Text\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          value={text}\r\n          onChange={({ target }) => setText(target.value)}\r\n          className=\"form__input\"\r\n          placeholder=\"Enter text...\"\r\n        />\r\n      </div>\r\n      <div className=\"form__group\">\r\n        <label htmlFor=\"amount\" className=\"form__label\">\r\n          Amount <br />\r\n          (negative - expense, positive - income)\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          value={amount}\r\n          onChange={({ target }) => setAmount(target.value)}\r\n          className=\"form__input\"\r\n          placeholder=\"Enter amount...\"\r\n        />\r\n      </div>\r\n      <button type=\"submit\" className=\"btn\">\r\n        Add transaction\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Form from \"./Form\";\r\n\r\nexport default function AddNewTransaction() {\r\n  return (\r\n    <div className=\"transaction\">\r\n      <h3 className=\"heading--secondary\">Add new transaction</h3>\r\n      <Form />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { GlobalProvider } from \"./context/GlobalState\";\n\nimport Header from \"./components/Header\";\nimport Balance from \"./components/Balance\";\nimport Summary from \"./components/Summary\";\nimport TransactionList from \"./components/TransactionList\";\nimport AddNewTransaction from \"./components/AddNewTransaction\";\n\nimport \"./App.scss\";\n\nfunction App() {\n  return (\n    <GlobalProvider>\n      <div className=\"container\">\n        <Header />\n        <Balance />\n        <Summary />\n        <TransactionList />\n        <AddNewTransaction />\n      </div>\n    </GlobalProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}